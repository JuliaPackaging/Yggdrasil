--- a/source/adios2/toolkit/transport/file/FileHTTP.cpp
+++ b/source/adios2/toolkit/transport/file/FileHTTP.cpp
@@ -12,6 +12,9 @@
 #include <cstring>
 #include <netdb.h>
 #include <unistd.h>
+#ifndef _WIN32
+#include <sys/socket.h>
+#endif
 namespace adios2
 {
 namespace transport
--- a/source/adios2/toolkit/transport/file/FileHTTP.hpp
+++ b/source/adios2/toolkit/transport/file/FileHTTP.hpp
@@ -12,7 +12,7 @@
 
 #include "../Transport.h"
 #include "adios2/common/ADIOSConfig.h"
-#ifdef _MSC_VER
+#ifdef WIN32
 #define FD_SETSIZE 1024
 #include <process.h>
 #include <time.h>
