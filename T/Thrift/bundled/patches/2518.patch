From 6c213676491d8eecff869f5fa2f08992eb5fd6b4 Mon Sep 17 00:00:00 2001
From: Jeremiah <4462211+jeremiahpslewis@users.noreply.github.com>
Date: Tue, 8 Feb 2022 12:46:45 +0100
Subject: [PATCH] Fix winsock capitalization for case sensitive
 cross-compilation

---
 lib/cpp/src/thrift/protocol/TProtocol.h     | 2 +-
 lib/cpp/src/thrift/windows/GetTimeOfDay.cpp | 2 +-
 lib/cpp/src/thrift/windows/SocketPair.h     | 2 +-
 lib/cpp/src/thrift/windows/WinFcntl.h       | 2 +-
 lib/cpp/src/thrift/windows/config.h         | 2 +-
 lib/cpp/test/OpenSSLManualInitTest.cpp      | 2 +-
 lib/py/src/ext/endian.h                     | 2 +-
 7 files changed, 7 insertions(+), 7 deletions(-)

diff --git a/lib/cpp/src/thrift/protocol/TProtocol.h b/lib/cpp/src/thrift/protocol/TProtocol.h
index 867ceb079e..b691c4169c 100644
--- a/lib/cpp/src/thrift/protocol/TProtocol.h
+++ b/lib/cpp/src/thrift/protocol/TProtocol.h
@@ -22,7 +22,7 @@
 
 #ifdef _WIN32
 // Need to come before any Windows.h includes
-#include <Winsock2.h>
+#include <winsock2.h>
 #endif
 
 #include <thrift/transport/TTransport.h>
diff --git a/lib/cpp/src/thrift/windows/GetTimeOfDay.cpp b/lib/cpp/src/thrift/windows/GetTimeOfDay.cpp
index ac24124b3a..d3696053bc 100644
--- a/lib/cpp/src/thrift/windows/GetTimeOfDay.cpp
+++ b/lib/cpp/src/thrift/windows/GetTimeOfDay.cpp
@@ -38,7 +38,7 @@ int thrift_gettimeofday(struct timeval* tv, struct timezone* tz) {
 }
 #else
 #define WIN32_LEAN_AND_MEAN
-#include <Winsock2.h>
+#include <winsock2.h>
 #include <cstdint>
 #include <sstream>
 #include <thrift/transport/TTransportException.h>
diff --git a/lib/cpp/src/thrift/windows/SocketPair.h b/lib/cpp/src/thrift/windows/SocketPair.h
index 86bf431501..74b65dfaa8 100644
--- a/lib/cpp/src/thrift/windows/SocketPair.h
+++ b/lib/cpp/src/thrift/windows/SocketPair.h
@@ -29,7 +29,7 @@
 #endif
 
 // Win32
-#include <Winsock2.h>
+#include <winsock2.h>
 #include <thrift/thrift-config.h>
 
 int thrift_socketpair(int d, int type, int protocol, THRIFT_SOCKET sv[2]);
diff --git a/lib/cpp/src/thrift/windows/WinFcntl.h b/lib/cpp/src/thrift/windows/WinFcntl.h
index 4816fc5ec3..39e5efd136 100644
--- a/lib/cpp/src/thrift/windows/WinFcntl.h
+++ b/lib/cpp/src/thrift/windows/WinFcntl.h
@@ -33,7 +33,7 @@
 #endif
 
 // Win32
-#include <Winsock2.h>
+#include <winsock2.h>
 #include <thrift/transport/PlatformSocket.h>
 
 extern "C" {
diff --git a/lib/cpp/src/thrift/windows/config.h b/lib/cpp/src/thrift/windows/config.h
index ce10c55240..19296d63f3 100644
--- a/lib/cpp/src/thrift/windows/config.h
+++ b/lib/cpp/src/thrift/windows/config.h
@@ -57,7 +57,7 @@
 #include <thrift/windows/SocketPair.h>
 
 // windows
-#include <Winsock2.h>
+#include <winsock2.h>
 #include <ws2tcpip.h>
 
 #ifndef __MINGW32__
diff --git a/lib/cpp/test/OpenSSLManualInitTest.cpp b/lib/cpp/test/OpenSSLManualInitTest.cpp
index 935a205141..bf6c15369b 100644
--- a/lib/cpp/test/OpenSSLManualInitTest.cpp
+++ b/lib/cpp/test/OpenSSLManualInitTest.cpp
@@ -21,7 +21,7 @@
 // which will cause the test to fail
 #define MANUAL_OPENSSL_INIT 1
 #ifdef _WIN32
-#include <WinSock2.h>
+#include <winsock2.h>
 #endif
 
 #include <boost/test/unit_test.hpp>
diff --git a/lib/py/src/ext/endian.h b/lib/py/src/ext/endian.h
index 1660cbd98e..a2cf594ed4 100644
--- a/lib/py/src/ext/endian.h
+++ b/lib/py/src/ext/endian.h
@@ -25,7 +25,7 @@
 #ifndef _WIN32
 #include <netinet/in.h>
 #else
-#include <WinSock2.h>
+#include <winsock2.h>
 #pragma comment(lib, "ws2_32.lib")
 #define BIG_ENDIAN (4321)
 #define LITTLE_ENDIAN (1234)
