--- a/CMakeLists.txt	2026-02-25 20:13:38
+++ b/CMakeLists.txt	2026-02-25 22:01:47
@@ -197,6 +197,23 @@
 # --- nanoarrow (no longer bundled with geoarrow...could be bundled here, or
 # bundled as a fallback)
 if(NOT TARGET nanoarrow)
+  find_package(nanoarrow QUIET)
+  if(nanoarrow_FOUND)
+    # nanoarrow::nanoarrow may be an ALIAS target (e.g., to nanoarrow::nanoarrow_shared
+    # or nanoarrow::nanoarrow_static), and CMake does not allow creating an alias of an
+    # alias. Resolve to the underlying IMPORTED target.
+    if(TARGET nanoarrow::nanoarrow_shared)
+      add_library(nanoarrow ALIAS nanoarrow::nanoarrow_shared)
+    elseif(TARGET nanoarrow::nanoarrow_static)
+      add_library(nanoarrow ALIAS nanoarrow::nanoarrow_static)
+    else()
+      add_library(nanoarrow ALIAS nanoarrow::nanoarrow)
+    endif()
+    message(STATUS "Found system nanoarrow")
+  endif()
+endif()
+
+if(NOT TARGET nanoarrow)
   FetchContent_Declare(
     nanoarrow
     URL https://github.com/apache/arrow-nanoarrow/archive/refs/tags/apache-arrow-nanoarrow-0.6.0.zip
@@ -292,11 +309,13 @@
          S2_VERSION_PATCH=${S2_VERSION_PATCH}
   PRIVATE ${GEOARROW_COMPILE_DEFINITIONS})
 
-if(MSVC)
+if(WIN32)
   # used in s2geometry's CMakeLists.txt but not defined in target
   target_compile_definitions(s2geography PUBLIC _USE_MATH_DEFINES)
   target_compile_definitions(s2geography PUBLIC NOMINMAX)
-  target_compile_options(s2geography PUBLIC /J)
+  if(MSVC)
+    target_compile_options(s2geography PUBLIC /J)
+  endif()
 endif()
 
 target_link_libraries(
